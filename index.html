<!DOCTYPE html>
<head lang="en-us">
    <title>Seawee Games | Giffy</title>
    <link rel="icon" href="#" type="icon/ image type">
    <link rel="stylesheet" href="stylesheets/reset.css" type="text/css">
    <link rel="stylesheet" href="stylesheets/styles.css" type="text/css">
</head>
<body>
    <form>
        <label for="search"></label>
        <input type="text" id="search" name="search" value="cats">
        <input type="button" value="Search GIFs">
    </form>
    <br />
    <img src="#" alt="gif">
    <br />
    <button id="gif">New GIF</button>
    <script>
        const image = document.querySelector('img');

        const form = document.querySelector('form');
        const submit = form.querySelector('input[type="button"]');

        getGifs(form.search.value);

        const newGif = document.querySelector('#gif');
        newGif.addEventListener('click', getNewGif);

        submit.addEventListener('click',getNewGif);

        function getNewGif() {
            let searchText = form.search.value;
            console.log(searchText);
            getGifs(searchText);
        }
        async function getGifs(searchText) {
            console.log(searchText);
            const response = await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=EpfyNb2OrFNqvry00bN6vGPqpS57oWhs&s=${searchText}`, {mode: 'cors'});
            const Data = await response.json();
            image.src = Data.data.images.original.url;
        }

    </script>
</body>